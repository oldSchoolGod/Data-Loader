<!--
@description       : 
@author            : ChangeMeIn@UserSettingsUnder.SFDoc
@group             : 
@last modified on  : 05-12-2022
@last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
    <div class="dataloader">
    <div class="headertop">
    <div class="header_left">
        <a href="#default" class="logo"><img src={Logo1} alt="Logo"></a>
        <div class="menu">
            <lightning-button-menu label="New Task">
                <div class="slds-p-left_xxx-small" >
                    <lightning-button-stateful
                    variant="brand"
                    label-when-off="Import"
                    label-when-on="Import"
                    label-when-hover="Unfollow"
                    icon-name-when-off="utility:download"
                    icon-name-when-on="utility:check"
                    icon-name-when-hover="utility:close"
                    onclick={openModalImport}>
                    </lightning-button-stateful>
                </div>
                <div class="slds-p-left_xxx-small" style="margin-top:10px ;">
                    <lightning-button-stateful
                    variant="brand"
    label-when-off="Export"
    label-when-on="Export"
    label-when-hover="Unfollow"
    icon-name-when-off="utility:share"
    icon-name-when-on="utility:check"
    icon-name-when-hover="utility:close"
    onclick={openModal}
    >
    </lightning-button-stateful>
    </div>
    <div class="slds-p-left_xxx-small" style="margin-top:10px ;">
                <lightning-button variant="brand" icon-name="utility:delete"  alternative-text="Delete"  label="Delete" onclick={handleClickDelete}>
                    </lightning-button>
                </div>
            </lightning-button-menu>
        </div>
    </div>
    <div class="header_right">
        <ul>
            <li><a href="#">
                    <lightning-icon icon-name='utility:info' alternative-text='info' size='x-small'>
                    </lightning-icon>Info
                </a></li>
            <li><a href="#">
                    <lightning-icon icon-name='utility:groups' alternative-text='groups' size='x-small'
                        title='groups'></lightning-icon>Help Center
                </a></li>
            <li><a href="#">{currentUserName}<lightning-icon class="user-icon" icon-name='utility:user'
                        alternative-text='user' size='x-small'></lightning-icon></a></li>
        </ul>
    </div>
    </div>
    <div class="Body">
    <div class="BodyWrap">
        <div class="Gettingstart">
            <p style="float: left; width: auto;padding: 0 0 0 30px;">
                <lightning-icon icon-name='utility:info' alternative-text='info' size='small' title='info'>
                </lightning-icon>Getting Started
            </p>
            <!--p style="float: right; width: auto;padding: 0 30px 0 0;font-size: 16px;"><a href="#">Back to
                    task</a></p-->
        </div>
        <div class="bodysection">
            <div class="bodysectionleft">
                <div class="bodysectionleft_Content">
                    <ul>
                        
                        <li><a href="#" onclick={welcomebody}>Welcome</a></li>
                       <li><a href="#" onclick={DcocumentBody}>Documentation</a></li>
                         <li><a href="#" onclick={Poweredbybody}>Powered by Cloudprism</a></li>
                    </ul>
                </div>
            </div>
    
            <div class="bodysectionright">
                <template if:true={welcomeModalpopup}>
                <div class="welcometodataloder">
                    
                    <p>Welcome to Data Loader</p>
                     <article class="slds-card" style="margin-top: 39px;margin-right: 36px;background-color: #B5D3E7;">
                        <div class="slds-card__header slds-grid">
                          <header class="slds-media slds-media_center slds-has-flexi-truncate">
                            
                            <div class="slds-media__body">
                              <h2 class="slds-card__header-title">
                                <a href="#" class="slds-card__header-link slds-truncate" title="Basics">
                                  <span>Basics</span>
                                </a>
                              </h2>
                            </div>
                          </header>
                        </div>
                        <div class="slds-card__body">
                            A Salesforce data loader is a universal tool used for bulk importing ,exporting and deleting of data.
                        </div>
                      </article> 
                      <article class="slds-card" style="margin-top: 2px;margin-right: 36px;background-color: #B5D3E7;">
                        <div class="slds-card__header slds-grid">
                          <header class="slds-media slds-media_center slds-has-flexi-truncate">
                            
                            <div class="slds-media__body">
                              <h2 class="slds-card__header-title">
                                <a href="#" class="slds-card__header-link slds-truncate" title="Import">
                                  <span>Import</span>
                                </a>
                              </h2>
                            </div>
                          </header>
                        </div>
                        <div class="slds-card__body">
                            When importing data, Data Loader reads, extracts, and loads data from comma-separated values (CSV) files or from a database connection.
                        </div>
                      </article> 
                    
                    <article class="slds-card" style="margin-top: 2px;margin-right: 36px;background-color: #B5D3E7;">
                      <div class="slds-card__header slds-grid">
                        <header class="slds-media slds-media_center slds-has-flexi-truncate">
                          
                          <div class="slds-media__body">
                            <h2 class="slds-card__header-title">
                              <a href="#" class="slds-card__header-link slds-truncate" title="Export">
                                <span>Export</span>
                              </a>
                            </h2>
                          </div>
                        </header>
                      </div>
                      <div class="slds-card__body">
                        The data is exported as a set of comma-separated values (CSV) files. Data export tools provide a convenient way to obtain a copy of your Salesforce data, either for backup or for importing into a different system.
                      </div>
                    </article> 
               
                <article class="slds-card" style="margin-top: 2px;margin-right: 36px;margin-bottom: 8px;background-color: #B5D3E7;">
                  <div class="slds-card__header slds-grid">
                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                      
                      <div class="slds-media__body">
                        <h2 class="slds-card__header-title">
                          <a href="#" class="slds-card__header-link slds-truncate" title="Delete">
                            <span>Delete</span>
                          </a>
                        </h2>
                      </div>
                    </header>
                  </div>
                  <div class="slds-card__body">
                     delete means deleting the data permanently from the org. That mean data will not be stored recycle bin. 
                  </div>
                </article> 
                </div>
            </template>
            <template if:true={DocumentModal}>
                <div class="welcometodataloder">
                    <p>Documentation</p>
                    <lightning-accordion allow-multiple-sections-open
                    onsectiontoggle={handleSectionToggle}
                    active-section-name={activeSections}>
                    <div class="divBorder">
  <lightning-accordion-section name="A" label="Import">
    <article class="slds-card" style="margin-top: 2px;margin-right: 36px;background-color: #B5D3E7;">
        <div class="slds-card__header slds-grid">
          <header class="slds-media slds-media_center slds-has-flexi-truncate">
            
            <div class="slds-media__body">
              <h2 class="slds-card__header-title">
                <a href="#" class="slds-card__header-link slds-truncate" title="Import">
                  <span></span>
                </a>
              </h2>
            </div>
          </header>
        </div>
        <div class="slds-card__body" style="text-align: left;
        margin-left: 174px;">
     step 1: click on Import button<br>
     step 2: Choose Object for which you want to import data<br>
     step 3: click on next button<br>
     step 4: Upload Csv file<br>
     step 5: click on next button<br>
     step 6: map the fields accordingly<br>
     step 7: click on save record<br>
        </div>
      </article> 
     
  </lightning-accordion-section>
  
</div>
<div class="divBorder">
  <lightning-accordion-section name="B" label="Export">
    <article class="slds-card" style="margin-top: 2px;margin-right: 36px;background-color: #B5D3E7;">
        <div class="slds-card__header slds-grid">
          <header class="slds-media slds-media_center slds-has-flexi-truncate">
            
            <div class="slds-media__body">
              <h2 class="slds-card__header-title">
                <a href="#" class="slds-card__header-link slds-truncate" title="expot">
                  <span></span>
                </a>
              </h2>
            </div>
          </header>
        </div>
        <div class="slds-card__body" style="text-align: left;
        margin-left: 174px;">
     step 1: click on export button<br>
     step 2: Choose Object for which you want to export data<br>
     step 3: click on next button<br>
     step 4: select fields you want to export<br>
     step 5: click on next button<br>
     step 6: click on export button<br>
      </div>
      </article> 
  </lightning-accordion-section>
</div>
<div class="divBorder">
  <lightning-accordion-section name="C" label="Delete">
    <article class="slds-card" style="margin-top: 2px;margin-right: 36px;background-color: #B5D3E7;">
        <div class="slds-card__header slds-grid">
          <header class="slds-media slds-media_center slds-has-flexi-truncate">
            
            <div class="slds-media__body">
              <h2 class="slds-card__header-title">
                <a href="#" class="slds-card__header-link slds-truncate" title="delete">
                  <span></span>
                </a>
              </h2>
            </div>
          </header>
        </div>
        <div class="slds-card__body" style="text-align: left;
        margin-left: 174px;">
     step 1: select delete button<br>
     step 2: Upload Csv file<br>
     step 3: click on delete button<br>
      </div>
      </article> 
  </lightning-accordion-section>
</div>
</lightning-accordion>

                </div>
            </template>
            <template if:true={Poweredpopup}>
                <div class="welcometodataloder">
                    <p>Powered by Cloudprism</p>
                    <a href="#default" class="logo"><img src={Logo1} alt="Logo"></a>
                    <p>Contact Us: prateek@cloudprism.in</p>
                </div>
            </template>
            </div>
        </div>
    </div>
    </div>
    <div class="Footer">
    <div class="footercontent">
        <div class="poweredby">
            Powered By: Â© 2022 CloudPrism Solutions. All Rights Reserved.
        </div>
    </div>
    </div>
    </div>
    <!--Export Modal PopUp-->
    <template if:true={isModalOpen}>
    <!-- Modal/Popup Box LWC starts here -->
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
    aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
    <div class="modal_container">
        <div class="modal_container_in">
            <!-- Modal/Popup Box LWC header here -->
            <header class="slds-modal__header">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                    title="Close" onclick={closeModal}>
                    <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                        size="small"></lightning-icon>
                    <span class="slds-assistive-text">Close</span>
                </button>
                <h2 id="modal-heading-01" class="heading_export" style="float:left;">Export</h2>
                <h2 id="modal-heading-02" class="heading_export" style="float:right;">{currentUserName}</h2>
            </header>
            <!-- Modal/Popup Box LWC body starts here -->
            <div class="" id="modal-content-id-1">
                <div class="process_bar">
                    <div class="slds-grid slds-gutters">
                        <div class="slds-col">
                            <span class="chooseobject Active">1. Choose Object</span>
                        </div>
                        <div class="slds-col">
                            <span class="fields">2. Fields</span>
                        </div>
                        <div class="slds-col">
                            <span class="run">3. Run</span>
                        </div>
                    </div>
                </div>
                <div class="All_object_list">
                    <template if:true={screenOne}>
                        <div class="objectlist_section">
                            <div class="search_filter">
                                <div class="search_filter_in">   
                                    <div class="menu1">
                                        <div class="searchbar">
                                            <lightning-input name="enter-search" placeholder="Quik find.." type="search" variant="label-hidden" onchange={handleSeach}  ></lightning-input>
                                        </div>
                                        <div class="menubtn">
                                            <lightning-button-menu label="">
                                               <!-- <lightning-button class="menu_btn" label="Custom object" onclick={ShowCustumObject}>
                                                </lightning-button>
                                                <lightning-button class="menu_btn"  label="Standard Object" onclick={ShowStandardObject}>
                                                </lightning-button>
                                                <lightning-button class="menu_btn"  label="Show All" onclick={SHowAllObject}>
                                                </lightning-button>-->
                                                <button class="menu_btn" onclick={ShowCustumObject}>Custom object</button>
                                                <button class="menu_btn" onclick={ShowStandardObject}>Standard Object</button>
                                                <button class="menu_btn" onclick={SHowAllObject}>Show All</button>
                                            </lightning-button-menu>
                                        </div>
                                    </div>
                                    <div class="objectNAme">
                                        <template for:each={objNameTemp} for:item="fieldsNameOption">
                                            <li key={fieldsNameOption.label} value={fieldsNameOption.label} >
                                            <a onclick={getSelectedObj} data-record={fieldsNameOption.label}  data-id={fieldsNameOption.label}><span class="Object_Value">{fieldsNameOption.label}</span><span class="Object_label">{fieldsNameOption.value}</span></a></li>
                                        </template> 
                                    </div>
                                
                                </div>
                            </div>
                        </div>
                    </template>
                    <template if:true={screenTwo}>
                        <lightning-dual-listbox name="Fields" label="Select Fields" source-label="Available"
                            selected-label="Selected" field-level-help="Select Fields"
                            options={objFieldNameOptions} onchange={getSelectedObjFieldNames}>  
                        </lightning-dual-listbox>
                    </template>
                    <template if:true={screenThree}>
                        <div class="slds-box slds-theme--default">
                            Click on the below button to download CSV File.
                            <p class="slds-m-top--large">
                                <template if:true={showDownloadbtn}>
                                    <lightning-button variant="brand" label="Export"
                                        title="Generate CSV File" onclick={downloadcsv}></lightning-button>
                                </template>
                            </p>
                        </div>
                    </template>
                </div>
            </div>
            <!-- Modal/Popup Box LWC footer starts here -->
            <footer class="slds-modal__footer">
                <button class="slds-button slds-button_neutral" onclick={closeModal}
                    title="Cancel">Cancel</button>
                <template if:true={screenOne}>
                    <button class="slds-button slds-button_brand" onclick={nextForFieldsScreen}>Next</button>
                </template>
                <template if:true={screenTwo}>
                    <button class="slds-button slds-button_brand"
                        onclick={preForObjectsScreen}>Previous</button>
                    <button class="slds-button slds-button_brand" onclick={nextForDownloadScreen}>Next</button>
                </template>
                <template if:true={screenThree}>
                    <button class="slds-button slds-button_brand" onclick={preForFieldScreen}>Previous</button>
                </template>
            </footer>
        </div>
    </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
    <template if:true={isModalOpenImport}>
    <!-- Modal/Popup Box LWC starts here -->
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true"
    aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
    <div class="modal_container">
        <div class="modal_container_in">
            <!-- Modal/Popup Box LWC header here -->
            <header class="slds-modal__header">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                    title="Close" onclick={closeModalImport}>
                    <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                        size="small"></lightning-icon>
                    <span class="slds-assistive-text">Close</span>
                </button>
                <h2 id="modal-heading-03" class="heading_export" style="float:left;">Import</h2>
                <h2 id="modal-heading-04" class="heading_export" style="float:right;">{currentUserName}</h2>
            </header>
            <!-- Modal/Popup Box LWC body starts here -->
            <template if:true={ImportCsv}>
                <c-lwc-c-s-v-uploader oncallpasstoparent={handelCallFromChild}></c-lwc-c-s-v-uploader>
            </template>
            <!-- Modal/Popup Box LWC footer starts here -->
            <footer class="slds-modal__footer">
                <button class="slds-button slds-button_neutral" onclick={closeModalImport}
                    title="Cancel">Cancel</button>
            </footer>
        </div>
    </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
    <template if:true={isModalOpenDelete}>
    <!-- Modal/Popup Box LWC starts here -->
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true"
    aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open">
    <div class="modal_container">
        <div class="modal_container_in">
            <!-- Modal/Popup Box LWC header here -->
            <header class="slds-modal__header">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                    title="Close" onclick={closeModalDelete}>
                    <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                        size="small"></lightning-icon>
                    <span class="slds-assistive-text">Close</span>
                </button>
                <h2 id="modal-heading-05" class="heading_export" style="float:left;">Delete</h2>
                <h2 id="modal-heading-06" class="heading_export" style="float:right;">{currentUserName}</h2>
            </header>
            <!-- Modal/Popup Box LWC body starts here -->
            <div class="deletebody">
                <!--c-delete-csv-file></c-delete-csv-file-->
                <div class="deleteblock">
                    <div class="uploadfile">
                            <lightning-file-upload 
                                accept={acceptedFormats}
                                multiple="multiple" 
                                onuploadfinished={uploadFilehandle}>
                            </lightning-file-upload>
                    </div>
                    <div class="selectedFileName">Selected File Name: {selectedFileName} </div>
                    <template if:true={selectedFileName}>
                        <div class="delete">
                            <lightning-button variant="brand" label="Delete" onclick={handleDelete} class="slds-m-left_x-small"></lightning-button>
            
                        </div>
                    </template>
                    
                </div>
            </div>
            <!-- Modal/Popup Box LWC footer starts here -->
            <footer class="slds-modal__footer">
                <button class="slds-button slds-button_neutral" onclick={closeModalDelete}
                    title="Cancel">Cancel</button>
            </footer>
        </div>
    </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
    </template>